{% extends 'base.html.twig' %}

{% block title %}{{ 'accounts.form.title_update'|trans }} Â· {{ 'app.name'|trans }}{% endblock %}

{% block body %}
    <section class="section">
        <div class="section__header">
            <div>
                <h1 class="page-title">{{ 'accounts.form.title_update'|trans }}</h1>
                <p class="lead">{{ 'accounts.form.intro_update'|trans }}</p>
            </div>
            <a class="button button--ghost" href="{{ path('app_account_view', { aid: account_info.aid }) }}">{{ 'accounts.view.heading'|trans({'%name%': account_info.first_name ~ ' ' ~ account_info.last_name}) }}</a>
        </div>

        {% if errors is not empty %}
            <div class="alert alert--error" role="alert">
                <ul>
                    {% for error in errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        {% if messages is not empty %}
            <div class="alert alert--success" role="status">
                <ul>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        <form method="post" action="{{ path('app_account_edit', { aid: account_info.aid }) }}" class="form-grid" novalidate>
            <input type="hidden" name="_token" value="{{ csrf_token('account_edit_form') }}">
            {% include 'report/_account_form_fields.html.twig' with { parameters: parameters } %}
            <div>
                <button type="submit" class="button button--primary">{{ 'accounts.form.submit_update'|trans }}</button>
            </div>
        </form>
    </section>
{% endblock %}
